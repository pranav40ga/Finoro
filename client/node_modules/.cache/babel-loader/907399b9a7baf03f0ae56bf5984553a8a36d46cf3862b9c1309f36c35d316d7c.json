{"ast":null,"code":"import _objectSpread from\"C:/Users/VICTUS/Music/Finoro/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=()=>{const[formData,setFormData]=useState({username:'',email:'',password:''});const[errors,setErrors]=useState({});const[serverError,setServerError]=useState('');const[loading,setLoading]=useState(false);const[successMessage,setSuccessMessage]=useState('');const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const validate=()=>{const newErrors={};const{username,email,password}=formData;if(!username.trim())newErrors.username='Username is required';if(!email.trim())newErrors.email='Email is required';if(!password)newErrors.password='Password is required';const passwordRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?#&])[A-Za-z\\d@$!%*?#&]{8,}$/;if(password&&!passwordRegex.test(password)){newErrors.password='Password must be at least 8 characters and include uppercase, lowercase, number, and special character.';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validate())return;setLoading(true);setServerError('');setSuccessMessage('');try{const res=await fetch('http://localhost:3001/user/create',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await res.json();if(!res.ok){setServerError(data.message||'Something went wrong. Please try again.');return;}// Success\nsetSuccessMessage('User created successfully! Please check your email to verify.');setFormData({username:'',email:'',password:''});setErrors({});}catch(err){console.error('Signup failed:',err);setServerError('Server error. Please try again later.');}finally{setTimeout(()=>setLoading(false),3000);// Disable button for 3 seconds\n}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-gray-900 text-gray-900 dark:text-blue-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-8 w-full max-w-md dark:bg-slate-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mb-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/Finoro-logo.png\",alt:\"Finoro Logo\",className:\"h-16 w-auto mb-2 border rounded-2xl\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-700\",children:\"Create an Account\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[['username','email','password'].map(field=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-left font-medium mb-1 text-gray-700 capitalize\",children:field}),/*#__PURE__*/_jsx(\"input\",{type:field==='password'?'password':'text',name:field,value:formData[field],onChange:handleChange,className:\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400\"}),errors[field]&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 mt-1\",children:errors[field]})]},field)),serverError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 text-center\",children:serverError}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-600 text-center\",children:successMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50\",disabled:loading,children:loading?'Processing...':'Sign Up'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-center text-gray-600 mt-4\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-blue-600 hover:underline\",children:\"Login here\"})]})]})});};export default Signup;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","Signup","formData","setFormData","username","email","password","errors","setErrors","serverError","setServerError","loading","setLoading","successMessage","setSuccessMessage","handleChange","e","name","value","target","prev","_objectSpread","validate","newErrors","trim","passwordRegex","test","Object","keys","length","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","message","err","console","error","setTimeout","className","children","src","alt","onSubmit","map","field","type","onChange","disabled","to"],"sources":["C:/Users/VICTUS/Music/Finoro/client/src/myComponents/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Signup = () => {\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [serverError, setServerError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const validate = () => {\r\n    const newErrors = {};\r\n    const { username, email, password } = formData;\r\n\r\n    if (!username.trim()) newErrors.username = 'Username is required';\r\n    if (!email.trim()) newErrors.email = 'Email is required';\r\n    if (!password) newErrors.password = 'Password is required';\r\n\r\n    const passwordRegex =\r\n      /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?#&])[A-Za-z\\d@$!%*?#&]{8,}$/;\r\n\r\n    if (password && !passwordRegex.test(password)) {\r\n      newErrors.password =\r\n        'Password must be at least 8 characters and include uppercase, lowercase, number, and special character.';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validate()) return;\r\n\r\n    setLoading(true);\r\n    setServerError('');\r\n    setSuccessMessage('');\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:3001/user/create', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        setServerError(data.message || 'Something went wrong. Please try again.');\r\n        return;\r\n      }\r\n\r\n      // Success\r\n      setSuccessMessage('User created successfully! Please check your email to verify.');\r\n      setFormData({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n      });\r\n      setErrors({});\r\n    } catch (err) {\r\n      console.error('Signup failed:', err);\r\n      setServerError('Server error. Please try again later.');\r\n    } finally {\r\n      setTimeout(() => setLoading(false), 3000); // Disable button for 3 seconds\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-gray-900 text-gray-900 dark:text-blue-900\">\r\n      <div className=\"bg-white shadow-md rounded-lg p-8 w-full max-w-md dark:bg-slate-300\">\r\n        <div className=\"flex flex-col items-center mb-6\">\r\n          <img\r\n            src=\"/Finoro-logo.png\"\r\n            alt=\"Finoro Logo\"\r\n            className=\"h-16 w-auto mb-2 border rounded-2xl\"\r\n          />\r\n          <h2 className=\"text-2xl font-bold text-blue-700\">Create an Account</h2>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {['username', 'email', 'password'].map((field) => (\r\n            <div key={field}>\r\n              <label className=\"block text-left font-medium mb-1 text-gray-700 capitalize\">\r\n                {field}\r\n              </label>\r\n              <input\r\n                type={field === 'password' ? 'password' : 'text'}\r\n                name={field}\r\n                value={formData[field]}\r\n                onChange={handleChange}\r\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400\"\r\n              />\r\n              {errors[field] && (\r\n                <p className=\"text-sm text-red-600 mt-1\">{errors[field]}</p>\r\n              )}\r\n            </div>\r\n          ))}\r\n\r\n          {serverError && (\r\n            <p className=\"text-sm text-red-600 text-center\">{serverError}</p>\r\n          )}\r\n\r\n          {successMessage && (\r\n            <p className=\"text-sm text-green-600 text-center\">{successMessage}</p>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Processing...' : 'Sign Up'}\r\n          </button>\r\n        </form>\r\n\r\n        <p className=\"text-sm text-center text-gray-600 mt-4\">\r\n          Already have an account?{' '}\r\n          <Link to=\"/login\" className=\"text-blue-600 hover:underline\">\r\n            Login here\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}